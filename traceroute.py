from scapy.all import *

def traceroute(target):
    result, _ = sr(IP(dst=target, ttl=(1, 30)) / ICMP(), timeout=2, verbose=False)
    for snd, rcv in result:
        print(f"{snd.ttl} {rcv.src}")

target = "8.8.8.8"
traceroute(target)
